# 基于决策树的八斯巴文识别

***

## 八斯巴文

* 八思巴文，是蒙古元朝忽必烈时，由国师八思巴根据当时的吐蕃文字而制定的一种文字，用以取代标音不够准确的畏兀儿人塔塔统阿创的塔塔统阿蒙古文。然而此时横跨欧亚的蒙古帝国已经分裂为大元和四大汗国各自为政，因此八思巴字一直只有元朝采用，并主要用作为汉字标音符号。被明朝推翻之后，八思巴字遂废弃不用，但还在北元通行过一段时期。到了明末，蒙古高原的蒙古人被其他国蒙古民族同化，转而重新采用蒙古文字（维基百科）

***

## 项目组成

* 此项目由三个部分组成：

1. src: 巴斯巴文识别应用

2. helper: 决策树的构造和数据集构造源代码

3. data_set: 巴斯巴文数据集

*** 

## 说明

### 数据集和数据集的构造

* 关于巴斯巴文，数据集资源不多，所以手动构造了一个数据集

* 数据集包括图像文件: rain_img 和对应的CSV文件: train.csv，csv文件中包括每个巴斯巴文的发音和8个属性(不是特征值)
  
  > 关于特征值，在图像处理部分有说明

* csv文件中第一列表示的是巴斯巴文的发音（标签值）， 之后依次是8个属性

### 图像处理

* 在实现过程中，为了防止计算变得复杂，所以将任何大小的图像缩放为8*8的图像，方便了计算和处理

* 因为每个巴斯巴文之间的差异较大，这种缩放操作不会影响决策树的判断

* 处理过程：
  1. 对图像进行基于3*3核的开操作，消除一些毛刺
  2. 之后对图像进行二值化操作，因为仅有黑色和白色，所以阈值可以简单的设置为122，比122大的赋值为255，其余的赋值为0
  3. 对图像进行缩放，因为是进行图像的缩小，所以插值方式选择效果较好的INTER_AREA --- 区域插值

* 数据集中每个属性值表示的是每行的灰度值转换为二进制的字符串，也就是将8行每行的8位灰度值转换为2进制表示

    > 例如img0进行二值化操作之后的第1行的灰度值为: [255, 0, 0, 0, 255, 0, 0, 255], 此时的属性值'Row_1'为: 1,0,0,0,1,0,0,1

* 之后在构建决策树时，将这8个属性值连接为一个list，这样这个list中就会有64位的0和1，将这64位的每一位视为不同的特征值，根据这64个特征值，进行决策\
  树的构建

### 构造决策树

* 决策树的构造中有一个非常重要的指标 - 熵(entropy): 1948年，香农提出'信息熵'的概念。一条信息的信息量大小和它的不确定性有直接的关系，要搞清楚\
  一件不确定的事，需要了解大量信息。熵用于表示随机变量不确定性的度量，如果熵越大，表示不确定性越大。

* 信息增益: 信息增益表示的是得知特征 X 的信息而是的分类 Y 的信息的不确定性减少的程度。用公式可以表示为: gain(A) = H(D) - H(D|A)

* 决策树算法中有: ID3, C4.5和CART算法。在这个项目中，目标是识别图像，而且各个特征值仅局限于整型数字，所以采用较为简单的ID3算法。

  > ID3算法的核心是在决策树的各个结点上应用信息增益准则进行特征选择:
  > 1. 从根结点开始，对结点计算所有可能特征的信息增益，选择信息增益最大的特征作为结点的特征，并由该特征的不同取值构建子结点。
  > 2. 对子结点递归地调用以上方法，构建决策树。
  > 3. 直到所有特征的信息增益均很小或者没有特征可选时为止。

* 决策树的保存可以通过序列化和反序列化保存在一个.txt文件中。

* 识别函数是construct_decision_tree中的classify函数。

* 关于具体的算法，可以通过代码中的注解进行了解。